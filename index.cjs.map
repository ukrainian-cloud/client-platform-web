{"version":3,"sources":["../src/index.ts","../src/components/index.ts","../src/components/app/app.tsx","../.yarn/__virtual__/@ukrainian-cloud-utils-virtual-d7a52c6858/0/cache/@ukrainian-cloud-utils-https-bd6bf8471d-398751f864.zip/node_modules/@ukrainian-cloud/src/helpers/name.ts","../.yarn/__virtual__/@ukrainian-cloud-utils-virtual-d7a52c6858/0/cache/@ukrainian-cloud-utils-https-bd6bf8471d-398751f864.zip/node_modules/@ukrainian-cloud/src/@utility.ts","../.yarn/__virtual__/@ukrainian-cloud-utils-virtual-d7a52c6858/0/cache/@ukrainian-cloud-utils-https-bd6bf8471d-398751f864.zip/node_modules/@ukrainian-cloud/src/@initializable.ts","../.yarn/__virtual__/@ukrainian-cloud-utils-virtual-d7a52c6858/0/cache/@ukrainian-cloud-utils-https-bd6bf8471d-398751f864.zip/node_modules/@ukrainian-cloud/src/utils/local-db.ts","../.yarn/__virtual__/@ukrainian-cloud-utils-virtual-d7a52c6858/0/cache/@ukrainian-cloud-utils-https-bd6bf8471d-398751f864.zip/node_modules/@ukrainian-cloud/src/utils/color-scheme.ts","../.yarn/__virtual__/@ukrainian-cloud-utils-virtual-d7a52c6858/0/cache/@ukrainian-cloud-utils-https-bd6bf8471d-398751f864.zip/node_modules/@ukrainian-cloud/src/helpers/component.ts","../src/components/flexbox/flexbox.tsx","../src/components/flexbox/flexbox.module.sass","../src/components/flexbox/flexchild.tsx","../src/components/button/button.tsx","../src/components/spinner/spinner.tsx","../src/components/spinner/spinner.module.sass","../src/components/button/button.module.sass","../src/utils/index.ts","../src/utils/local-db.ts","../src/utils/color-scheme.ts"],"sourcesContent":["export * from './components';\nexport * as utils from './utils';\n","import 'dev-only:preact/debug';\n\nexport * from './app';\nexport * from './flexbox';\nexport * from './button';\nexport * from './spinner';\n","import { Component, ComponentChildren, render } from 'preact';\n\nconst root = document.head.parentElement!;\nconst body: HTMLBodyElement = root.querySelector(':scope > body')!;\n\nlet appCreated = false;\n\nexport class App extends Component<{ children: ComponentChildren }> {\n\trender() {\n\t\treturn this.props.children;\n\t}\n\n\tstatic create(children: ComponentChildren) {\n\t\tif (appCreated) return;\n\t\tbody.innerHTML = '';\n\t\tappCreated = true;\n\t\trender(<App>{children}</App>, body);\n\t}\n}\n","export function Name(name: string) {\n\treturn <T>(Class: T, _context: ClassDecoratorContext) => {\n\t\tObject.defineProperty(Class, 'name', {\n\t\t\tvalue: name,\n\t\t});\n\t};\n}\n\nexport function withName<T extends Function>(name: string, func: T) {\n\tObject.defineProperty(func, 'name', {\n\t\tvalue: name,\n\t});\n\treturn func;\n}\n","import { Initializable } from './@initializable';\nimport { withName } from './helpers/name';\n\nconst globalStorageName = '__uc_globals';\n\nif (!(globalThis as any)[globalStorageName]) {\n\tObject.defineProperty(globalThis, globalStorageName, {\n\t\tenumerable: false,\n\t\tconfigurable: false,\n\t\twritable: false,\n\t\tvalue: Object.create(null),\n\t});\n}\n\nfunction getGlobal<T>(name: string, factory: () => T): T {\n\tconst storage = (globalThis as any)[globalStorageName];\n\tif (name in storage) return storage[name];\n\treturn storage[name] = factory();\n}\n\nconst utility = getGlobal('utility', () => Symbol());\n\nconst utilityStore = getGlobal('utilityStore', () => new WeakMap<any, any>());\n\nconst utilityState = getGlobal('utilityState', () => ({ isLoaded: false }));\n\ninterface Utility<T extends Initializable, U extends Initializable> {\n\timplements: abstract new (...args: any[]) => T;\n\timplementation: new (...args: any[]) => U;\n}\n\nexport const isUtility = withName(\n\t'isUtility',\n\t(obj: any): obj is Utility<Initializable, Initializable> => Boolean(obj?.[utility]),\n);\n\nexport const createUtility = withName(\n\t'createUtility',\n\t<T extends Initializable, U extends Initializable>(\n\t\timplementsClass: abstract new (...args: any[]) => T,\n\t\timplementationClass: new (...args: any[]) => U,\n\t) => ({\n\t\t[utility]: true,\n\t\timplements: implementsClass,\n\t\timplementation: implementationClass,\n\t} as Utility<T, U>),\n);\n\nexport const loadUtilities = withName(\n\t'loadUtilities',\n\tasync (...utilities: Utility<Initializable, Initializable>[]) => {\n\t\tconst promises: Promise<Initializable>[] = [];\n\t\tfor (const utility of utilities) {\n\t\t\tconst util = new utility.implementation();\n\t\t\tconst promise = util.init().then(() => {\n\t\t\t\tutilityStore.set(utility.implements, util);\n\t\t\t\treturn util;\n\t\t\t});\n\t\t\tpromises.push(promise);\n\t\t\tutilityStore.set(utility.implements, promise);\n\t\t}\n\t\tawait Promise.all(promises);\n\t\tutilityState.isLoaded = true;\n\t},\n);\n\nexport const getUtility = withName(\n\t'getUtility',\n\t<T>(target: abstract new (...args: any[]) => T) => Promise.resolve<T>(utilityStore.get(target)),\n);\n\nexport const useUtil = withName(\n\t'useUtil',\n\t<T>(target: abstract new (...args: any[]) => T): T => {\n\t\tif (!utilityState.isLoaded) throw new Error(\"Can't call useUtil hook before utilities fully loaded\");\n\t\treturn utilityStore.get(target);\n\t},\n);\n","import { Name } from \"./helpers/name\";\n\n@Name('Initializable')\nexport abstract class Initializable {\n\tabstract init(): Promise<void>;\n}\n","import { Initializable } from \"../@initializable\";\nimport { Name } from \"../helpers/name\";\n\nenum Theme {\n\tdark = \"dark\",\n\tlight = \"light\",\n}\n\ninterface Mappings {\n\ttheme: Theme;\n}\n\nconst enums = {\n\tTheme,\n};\n\nexport type LocalDBEnum<T extends keyof typeof enums> = LocalDB['enums'][T][keyof LocalDB['enums'][T]];\n\n@Name('LocalDB')\nexport abstract class LocalDB extends Initializable {\n\tprivate changeListeners: Record<string, Set<(value: any) => void>> = {};\n\tprivate options: Record<string, WeakMap<(value: any) => void, { once?: boolean }>> = {};\n\n\tenums = enums;\n\n\tabstract get<T extends keyof Mappings>(name: T): Promise<Mappings[T]>;\n\n\tabstract set<T extends keyof Mappings>(name: T, value: Mappings[T]): Promise<void>;\n\n\tabstract delete<T extends keyof Mappings>(name: T): Promise<void>;\n\n\tprotected emitChange(name: string, value: any) {\n\t\tif (!this.changeListeners[name]) return;\n\t\tthis.changeListeners[name].forEach((callback) => {\n\t\t\tconst { once } = this.options[name].get(callback)!;\n\t\t\tif (once) {\n\t\t\t\tthis.changeListeners[name].delete(callback);\n\t\t\t\tthis.options[name].delete(callback);\n\t\t\t}\n\t\t\ttry {\n\t\t\t\tcallback(value);\n\t\t\t} catch(e) {\n\t\t\t\tconsole.error(e);\n\t\t\t}\n\t\t});\n\t}\n\n\tonChange<T extends keyof Mappings>(name: T, callback: (value: Mappings[T]) => void, options?: { once?: boolean }) {\n\t\tthis.changeListeners[name] ??= new Set();\n\t\tthis.options[name] ??= new WeakMap();\n\t\tthis.changeListeners[name].add(callback);\n\t\tthis.options[name].set(callback, options || {});\n\t};\n\n\toffChange<T extends keyof Mappings>(name: T, callback: (value: Mappings[T]) => void) {\n\t\tif (!this.changeListeners[name]) return;\n\t\tthis.changeListeners[name].delete(callback);\n\t\tthis.options[name].delete(callback);\n\t};\n}\n","import { Initializable } from '../@initializable';\nimport { getUtility } from '../@utility';\nimport { Name } from '../helpers/name';\nimport { LocalDB, LocalDBEnum } from './local-db';\n\n@Name('ColorScheme')\nexport abstract class ColorScheme extends Initializable {\n\tabstract getDefault(): Promise<LocalDBEnum<'Theme'>>;\n\n\tasync init() {\n\t\tconst db = await getUtility(LocalDB);\n\t\ttry {\n\t\t\tawait db.get('theme');\n\t\t} catch(e) {\n\t\t\tawait db.set('theme', await this.getDefault());\n\t\t}\n\t}\n}\n","import type { FunctionalComponent, Component as ClassComponent} from 'preact';\nimport { withName } from './name';\n\ntype UnionToIntersection<U> = (U extends any ? (k: U)=>void : never) extends ((k: infer I)=>void) ? I : never;\n\nfunction Component<Props, Exp extends Record<string, any>[]>(\n\tname: string,\n\tComponent: FunctionalComponent<Props>,\n\t...additionalComponentExports: Exp\n): FunctionalComponent<Props> & UnionToIntersection<Exp[number]>\nfunction Component<Props, Exp extends Record<string, any>[]>(\n\tname: string,\n\tComponent: ClassComponent<Props>,\n\t...additionalComponentExports: Exp\n): ClassComponent<Props> & UnionToIntersection<Exp[number]>\n\n\nfunction Component(name: string, Component: any, ...additionalComponentExports: any[]) {\n\treturn Object.assign(Object.defineProperty(Component, 'name', { value: name }), ...additionalComponentExports);\n}\n\nconst ComponentNamed = withName('Component', Component);\n\nexport { ComponentNamed as Component }\n","import { Component } from '@ukrainian-cloud/utils';\nimport type { ComponentChildren } from 'preact';\nimport { forwardRef } from 'preact/compat';\nimport styles from './flexbox.module.sass';\n\nenum FlexBoxDirection {\n\trow = 'row',\n\trowReverse = 'rowReverse',\n\tcolumn = 'column',\n\tcolumnReverse = 'columnReverse',\n}\n\nenum FlexBoxWrap {\n\tnowrap = 'nowrap',\n\twrap = 'wrap',\n\twrapReverse = 'wrapReverse',\n}\n\ninterface FlexBoxProps {\n\tchildren?: ComponentChildren;\n\tdirection?: FlexBoxDirection;\n\twrap?: FlexBoxWrap;\n}\n\nfunction classes(...classNames: string[]) {\n\treturn classNames.filter((v) => v).join(' ');\n}\n\nexport const FlexBox = Component(\n\t'FlexBox',\n\tforwardRef<HTMLDivElement, FlexBoxProps>(({\n\t\tchildren,\n\t\tdirection = FlexBoxDirection.row,\n\t\twrap = FlexBoxWrap.nowrap,\n\t}, ref) => {\n\t\treturn <div\n\t\t\tclass={classes(\n\t\t\t\tstyles.flexbox,\n\t\t\t\tstyles[direction],\n\t\t\t\tstyles[wrap],\n\t\t\t)}\n\t\t\tref={ref}\n\t\t>\n\t\t\t{children}\n\t\t</div>;\n\t}), {\n\t\tDirection: FlexBoxDirection,\n\t\tWrap: FlexBoxWrap,\n\t}\n);\n","import 'css-chunk:src/components/flexbox/flexbox.module.sass';export default {\n  \"flexbox\": \"_flexbox_l45iq_1\",\n  \"row\": \"_row_l45iq_5\",\n  \"row-reverse\": \"_row-reverse_l45iq_9\",\n  \"column\": \"_column_l45iq_13\",\n  \"column-reverse\": \"_column-reverse_l45iq_17\",\n  \"nowrap\": \"_nowrap_l45iq_21\",\n  \"wrap\": \"_wrap_l45iq_25\",\n  \"wrap-reverse\": \"_wrap-reverse_l45iq_29\"\n};","import { Component } from '@ukrainian-cloud/utils';\nimport type { ComponentChildren } from 'preact';\nimport { useRef, useEffect, MutableRef } from 'preact/hooks';\n\ninterface FlexChildProps {\n\tref?: MutableRef<unknown>;\n\tchildren: ComponentChildren;\n\tbasis?: string;\n\tgrow?: number;\n\tshrink?: number;\n}\n\nexport const FlexChild = Component(\n\t'FlexChild',\n\t({ children, basis, grow, shrink, ref }: FlexChildProps) => {\n\t\tconst realRef = ref || useRef();\n\t\tuseEffect(() => {\n\t\t\tif (!realRef?.current) return;\n\t\t\tconst element = realRef.current as HTMLElement;\n\t\t\telement.style.flexBasis = String(basis);\n\t\t\telement.style.flexGrow = String(grow);\n\t\t\telement.style.flexShrink = String(shrink);\n\t\t}, [realRef]);\n\t\tif (typeof children !== 'object') {\n\t\t\tthrow new Error('FlexChild should have exactly 1 DOM element in children. Found the only non-DOM child');\n\t\t}\n\t\tconst [child] = Array.isArray(children) ? children : [children];\n\t\tchild.props.ref = realRef;\n\t\treturn <>{child}</>;\n\t},\n);\n","import { Component } from '@ukrainian-cloud/utils';\nimport type { ComponentChildren } from 'preact';\nimport { forwardRef } from 'preact/compat';\nimport { useState, useCallback } from 'preact/hooks';\nimport { Spinner } from '../spinner';\nimport styles from './button.module.sass';\n\nconst { button, spinner } = styles;\n\ninterface ButtonProps {\n\tonClick: () => (void | Promise<void>);\n\ticon?: string;\n\tchildren?: ComponentChildren;\n}\n\nexport const Button = Component(\n\t'Button',\n\tforwardRef<HTMLButtonElement, ButtonProps>(({ onClick, children }, ref) => {\n\t\tconst [loading, setLoading] = useState(false);\n\n\t\tconst handleClick = useCallback(async () => {\n\t\t\tsetLoading(true);\n\t\t\tawait onClick();\n\t\t\tsetLoading(false);\n\t\t}, [setLoading]);\n\n\t\treturn (\n\t\t\t<button\n\t\t\t\tclass={button}\n\t\t\t\tonClick={handleClick}\n\t\t\t\tdisabled={loading}\n\t\t\t\tref={ref}\n\t\t\t>\n\t\t\t\t{ children }\n\t\t\t\t<Spinner variant={Spinner.Variant.monotone} class={spinner} style={{ opacity: loading ? 1 : 0 }}/>\n\t\t\t</button>\n\t\t);\n\t}),\n);\n","import { Component } from '@ukrainian-cloud/utils';\nimport type { JSX } from 'preact';\nimport { forwardRef } from 'preact/compat';\nimport styles from './spinner.module.sass';\n\nconst { spinner, path, variantColorful, variantMonotone } = styles;\n\nenum SpinnerVariant {\n\tmonotone = 0,\n\tcolorful = 1,\n}\n\ninterface SpinnerProps {\n\tvariant?: SpinnerVariant;\n\tclass?: string;\n\tstyle?: JSX.CSSProperties;\n}\n\nconst variableClasses = {\n\t[SpinnerVariant.monotone]: variantMonotone,\n\t[SpinnerVariant.colorful]: variantColorful,\n};\n\nexport const Spinner = Component(\n\t'Spinner',\n\tforwardRef<SVGSVGElement, SpinnerProps>(({\n\t\tvariant = SpinnerVariant.colorful,\n\t\tclass: className,\n\t\tstyle,\n\t}, ref) => {\n\t\treturn <svg class={`${className} ${spinner} ${variableClasses[variant]}`} width='100%' height='100%' viewBox='0 0 66 66' xmlns='http://www.w3.org/2000/svg' style={style} ref={ref}>\n\t\t\t<circle class={path} fill='none' stroke-width='10' stroke-linecap='round' cx='33' cy='33' r='30'></circle>\n\t\t</svg>;\n\t}),\n\t{\n\t\tVariant: SpinnerVariant,\n\t},\n);\n","import 'css-chunk:src/components/spinner/spinner.module.sass';export default {\n  \"spinner\": \"_spinner_um281_39\",\n  \"rotator\": \"_rotator_um281_1\",\n  \"path\": \"_path_um281_43\",\n  \"variant-colorful\": \"_variant-colorful_um281_49\",\n  \"dash\": \"_dash_um281_1\",\n  \"colors\": \"_colors_um281_1\",\n  \"variant-monotone\": \"_variant-monotone_um281_53\"\n};","import 'css-chunk:src/components/button/button.module.sass';export default {\n  \"button\": \"_button_1wlm7_1\",\n  \"spinner\": \"_spinner_1wlm7_18\"\n};","export * from './local-db';\nexport * from './color-scheme';\n","import { LocalDB } from '@ukrainian-cloud/utils';\n\nconst kvStoreName = 'kv';\n\nexport class LocalDBWebImpl extends LocalDB {\n\tprivate db: IDBDatabase | undefined;\n\n\tprivate runTransaction<T>(readonly: boolean, runner: (store: IDBObjectStore) => IDBRequest<T> | Promise<IDBRequest<T>>) {\n\t\treturn new Promise<T>(async (resolve, reject) => {\n\t\t\tconst tx = this.db!.transaction(kvStoreName, readonly ? 'readonly' : 'readwrite');\n\t\t\tconst store = tx.objectStore(kvStoreName);\n\t\t\tconst request = await runner(store);\n\t\t\trequest.onerror = () => {\n\t\t\t\trequest.onsuccess = null;\n\t\t\t\trequest.onerror = null;\n\t\t\t\treject(request.error);\n\t\t\t};\n\t\t\trequest.onsuccess = () => {\n\t\t\t\trequest.onsuccess = null;\n\t\t\t\trequest.onerror = null;\n\t\t\t\tresolve(request.result);\n\t\t\t};\n\t\t});\n\t}\n\n\tasync init() {\n\t\tawait new Promise<void>((resolve, reject) => {\n\t\t\tconst dbName = 'main';\n\t\t\tconst openRequest = indexedDB.open(dbName, 1);\n\t\t\topenRequest.onupgradeneeded = function() {\n\t\t\t\tconst db = openRequest.result;\n\t\t\t\tif (!db.objectStoreNames.contains(kvStoreName)) {\n\t\t\t\t\tdb.createObjectStore(kvStoreName, { keyPath: 'key' });\n\t\t\t\t}\n\t\t\t};\n\t\t\topenRequest.onerror = () => {\n\t\t\t\topenRequest.onupgradeneeded = null;\n\t\t\t\topenRequest.onerror = null;\n\t\t\t\topenRequest.onsuccess = null;\n\t\t\t\treject(openRequest.error);\n\t\t\t};\n\t\t\topenRequest.onsuccess = () => {\n\t\t\t\topenRequest.onupgradeneeded = null;\n\t\t\t\topenRequest.onerror = null;\n\t\t\t\topenRequest.onsuccess = null;\n\t\t\t\tthis.db = openRequest.result;\n\t\t\t\tresolve();\n\t\t\t};\n\t\t});\n\t}\n\n\tasync get(name: string) {\n\t\treturn await this.runTransaction(true, (store) => store.get(name));\n\t}\n\n\tasync set(name: string, value: unknown) {\n\t\tconst serializableValue = JSON.parse(JSON.stringify(value));\n\t\tawait this.runTransaction(false, (store) => store.put(serializableValue, name));\n\t\tthis.emitChange(name, serializableValue);\n\t}\n\n\tasync delete(name: string) {\n\t\tawait this.runTransaction(false, (store) => store.delete(name));\n\t\tthis.emitChange(name, undefined);\n\t}\n}\n","import { LocalDB, type LocalDBEnum, ColorScheme, getUtility } from '@ukrainian-cloud/utils';\n\nexport class ClolorSchemeWebImpl extends ColorScheme {\n\tasync getDefault(): Promise<LocalDBEnum<'Theme'>> {\n\t\tconst localDB = await getUtility(LocalDB);\n\t\tconst { Theme } = localDB.enums;\n\t\treturn matchMedia('prefers-color-scheme: light').matches ? Theme.light : Theme.dark;\n\t}\n}\n"],"mappings":"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","names":["src_exports","__export","App","Button","FlexBox","FlexChild","Spinner","utils_exports","__toCommonJS","import_debug","import_preact","import_jsx_runtime","root","body","appCreated","App","children","Name","name","Class","_context","withName","func","globalStorageName","getGlobal","factory","storage","utility","utilityStore","utilityState","isUtility","obj","createUtility","implementsClass","implementationClass","loadUtilities","utilities","promises","util","promise","getUtility","target","useUtil","Initializable","__decorateClass","Theme","enums","LocalDB","value","callback","once","e","options","ColorScheme","db","Component","additionalComponentExports","ComponentNamed","import_compat","flexbox_module_default","import_jsx_runtime","FlexBoxDirection","FlexBoxWrap","classes","classNames","v","FlexBox","ComponentNamed","children","direction","wrap","ref","flexbox_module_default","import_hooks","import_jsx_runtime","FlexChild","ComponentNamed","children","basis","grow","shrink","ref","realRef","element","child","import_compat","import_hooks","import_compat","spinner_module_default","import_jsx_runtime","spinner","path","variantColorful","variantMonotone","spinner_module_default","SpinnerVariant","variableClasses","Spinner","ComponentNamed","variant","className","style","ref","button_module_default","import_jsx_runtime","button","spinner","button_module_default","Button","ComponentNamed","onClick","children","ref","loading","setLoading","handleClick","Spinner","utils_exports","__export","ClolorSchemeWebImpl","LocalDBWebImpl","kvStoreName","LocalDBWebImpl","LocalDB","readonly","runner","resolve","reject","store","request","dbName","openRequest","db","name","value","serializableValue","ClolorSchemeWebImpl","ColorScheme","localDB","getUtility","LocalDB","Theme"]}